# Basic CRUD Operations App using Express and Mongoose without error handling 

Basically this is a simple app that implements full CRUD with forms where we can create new products, update products, delete products, show/ list all the products and also filter them on the basis of category using Mongoose the ODM(Object Document Mapper) of MongoDB. 

##

We start with integrating Mongoose with Express. We listen to the http://localhost:8080/ port. Next, we create our model of the application in a separate file product.js defining the product schema. The schema defines our product has a name which is of type String and it is required, then price which is of type Number and also required and finally a category, we delcare an enum to specify the category option to be fruit, vegetables or dairy. Then, we compile our model and export it from product.js. We create a seeds.js file to populate the database with some initial data. 

##

Next, we specify our index route that is going to result in a query to our Mongo database. To show all products we use Product.find({}), it will take time, hence we use async-await promise. we follow this pattern, an async callback for a route, in this project. Following the route will respond with a templete built using EJS, a templating language to generate HTML markup for the route. We groups all out templates in views directory.

The next route is to view details about a single product, it will render us the show.ejs template. We make all the products as a link in the index page so that clicking the individual product will follow the details page of the product with the product id generated by MongoDB. We specify the route with the product id. 

Next, we implemented add new product route. We need a form and we need a route that we submi the form to, so basically we need two routes. Get request to the products/new routhe will serve the form and a Post request to the products is where we submit the form and actually create a new product. So the get request will render new.ejs the templating page shown in the third image of the screenshots of the project. When we have a post request and we want information from the post request body, we don't have access to the request body immediately. We need to tell Express to use the middlewear urlencoded.

Next, we implement updating individual product. We need the id of the specific product and we put it in the route and then /edit. The id of the product also helps us to prepopulate the values of the form. So we pass that in the render method. We use a put request in this case so that we can edit all the fields name, price and category. From the form we can't actually make a put request, so our edit form is going to be a post request and then we are going to use method override. So, method override is a package that we need to install by which we can set our own query string parameter. Then we use redirect method otherwise it will send a post request again. We don't want to respond with direct content from a PUT or PATCH or DELETE or a POST route, we just do that from a GET route typically. We also have a cancel edit button which directs us to the product detail show route if clicked in the product edit page. 

Then, we implement the edit form to to successfully or correctly show the current category by default so that we don't have to select it every time. Generally in HTML, we use a boolean attribute called selected to select an specific option. What we need to do is dynamically apply this selected attribute to one of these options based upon the product itself and what the product category is. So, in our new.ejs and edit.ejs we use a for of loop to iterate over the categories and select category dynamically based on the current product category. 

Next, we implement the final operation in our CRUD, delete product. We set up a delete route for products ID and we know that we can't actually make a delete request from an HTML form in the browser, but we can fake it. We can send a post request and then add on the method override query string, just like we were able to send a put request. So, in the show.ejs page we add a Delete product button in a form where we're going to add the query string _method = DELETE and then method should be a post request. 

Finally, we add the last feature, view products by category. So, we make the category in show.ejs page as a link that will filter all the products of the same category and show us. To implement this funtionality, we use the category as the query string from the link. Now in the route for /products as a get request, we going to look in request as query and see if we have a category there 

##

![image](https://user-images.githubusercontent.com/60101798/126054566-604daef3-7a76-4b7d-82e6-de82a20a9bc5.png)

All the products in our database listed in ul
##

![image](https://user-images.githubusercontent.com/60101798/126055832-479f41df-699b-47d1-bc1b-11f413d1dc4a.png)

If we click on a specific product like Chocolate Whole Milk in this case, we will be directed to the details page of that product. 

##

![image](https://user-images.githubusercontent.com/60101798/126056147-2cb20a54-5ff2-49f2-9fda-62624225f92b.png)

We can create a new product clicking the Add new product (link is visible in the first image)

##

![image](https://user-images.githubusercontent.com/60101798/126056392-8c035453-6d6c-428f-bc5a-300de4d65a4f.png)

Adding a new product in the inventory of products.

## 

![image](https://user-images.githubusercontent.com/60101798/126056420-ccc6e6ec-4910-437e-a1ac-405e52fb19d8.png)

Submitting the new product will direct me to the new product detail page

## 

![image](https://user-images.githubusercontent.com/60101798/126056435-d65803cd-0f5c-4495-b0ed-88cf96cf0c27.png)

We can edit if any info was missing while creating the new product

##

![image](https://user-images.githubusercontent.com/60101798/126056448-e4fdbcc5-9bd5-4c5e-b385-c23dd379e990.png)

Finally we can see the new product is added to the all product list.












